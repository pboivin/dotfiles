"=======================================
" Initialize Plugins
"=======================================

set nocompatible
filetype off
set rtp+=~/.vim/bundle/Vundle.vim
call vundle#begin()

    " let Vundle manage Vundle, required
    " ----------------------------------
    Plugin 'gmarik/Vundle.vim'

    " general editor enhancements
    " ---------------------------
    Plugin 'scrooloose/nerdtree'
    Plugin 'scrooloose/nerdcommenter'
    Plugin 'jistr/vim-nerdtree-tabs'
    Plugin 'ctrlpvim/ctrlp.vim'
    Plugin 'nathanaelkane/vim-indent-guides'
    Plugin 'rking/ag.vim'
    Plugin 'henrik/vim-indexed-search'
    Plugin 'tpope/vim-fugitive'
    Plugin 'tpope/vim-unimpaired'
    Plugin 'airblade/vim-gitgutter'
    Plugin 'vim-airline/vim-airline'
    Plugin 'vim-airline/vim-airline-themes'
    Plugin 'editorconfig/editorconfig-vim'

    " snippets and code completion
    " ----------------------------
    Plugin 'mattn/emmet-vim'
"   Plugin 'phpcomplete.vim'
    Plugin 'loremipsum'
"   Plugin 'davidhalter/jedi-vim'
    Plugin 'MarcWeber/vim-addon-mw-utils'
    Plugin 'tomtom/tlib_vim'
    Plugin 'garbas/vim-snipmate'
    Plugin 'honza/vim-snippets'

    " build tools
    " -----------
"   Plugin 'neomake/neomake'

    " filetypes
    " ---------
    Plugin 'tpope/vim-markdown'
    Plugin 'tpope/vim-haml'
    Plugin 'groenewege/vim-less'
    Plugin 'kchmck/vim-coffee-script'
    Plugin 'jwalton512/vim-blade'
    Plugin 'vim-scripts/django.vim'
    Plugin 'pangloss/vim-javascript'
    Plugin 'mxw/vim-jsx'
    Plugin 'lumiliet/vim-twig'

    " color schemes
    " -------------
"   Plugin 'cohlin/vim-colorschemes'
"   Plugin 'zcodes/vim-colors-basic'
"   Plugin 'lu-ren/SerialExperimentsLain'
    Plugin 'mhartington/oceanic-next'

call vundle#end()
filetype plugin on

"=======================================
" Configuration
"=======================================

" CtrlP
" -----
"let g:ctrlp_map = '<C-o>'
let g:ctrlp_custom_ignore = 'vendor|node_modules\|\.DS_Store\|\.git'
let g:ctrlp_user_command = ['.git', 'cd %s && git ls-files -co --exclude-standard']

" NERDTree
" --------
let g:nerdtree_tabs_open_on_gui_startup = 1
let g:nerdtree_tabs_open_on_console_startup = 1
nnoremap <leader>t :NERDTreeTabsToggle<cr>

" git-gutter
" ----------
nnoremap <leader>hn :GitGutterNextHunk<cr>zz
nnoremap <leader>hs :GitGutterStageHunk<cr>

" File types
" ----------
au BufRead,BufNewFile *.html set filetype=htmldjango
au BufRead,BufNewFile *.j2 set filetype=htmldjango

" JEDI
" ----
" do not immediately open suggestion
"let g:jedi#popup_on_dot = 0
"let g:jedi#show_call_signatures = 0

" Snippets
"let g:UltiSnipsUsePythonVersion = 2

" Color scheme
" ------------
"color basic-dark

syntax enable
set t_Co=256
if (has("termguicolors"))
    set termguicolors
endif
colorscheme OceanicNext

" Highlight past 80 chars
let &colorcolumn=join(range(80,999),",")

" vim-indent-guides  (<leader>ig)
" -----------------
let g:indent_guides_enable_on_vim_startup = 1
let g:indent_guides_auto_colors = 0
autocmd VimEnter,Colorscheme * :hi IndentGuidesOdd  ctermbg=235 guibg=#1b2b34
autocmd VimEnter,Colorscheme * :hi IndentGuidesEven ctermbg=236 guibg=#1f2f3f
